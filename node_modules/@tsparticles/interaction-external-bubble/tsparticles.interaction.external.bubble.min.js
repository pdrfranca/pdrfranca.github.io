/*! For license information please see tsparticles.interaction.external.bubble.min.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@tsparticles/engine"));else if("function"==typeof define&&define.amd)define(["@tsparticles/engine"],t);else{var i="object"==typeof exports?t(require("@tsparticles/engine")):t(e.window);for(var o in i)("object"==typeof exports?exports:e)[o]=i[o]}}(this,(e=>(()=>{var t={303:t=>{t.exports=e}},i={};function o(e){var n=i[e];if(void 0!==n)return n.exports;var l=i[e]={exports:{}};return t[e](l,l.exports,o),l.exports}o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};o.r(n),o.d(n,{Bubble:()=>a,BubbleBase:()=>b,BubbleDiv:()=>r,loadExternalBubbleInteraction:()=>p});var l,s=o(303);class b{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!(0,s.isNull)(e)){if(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.mix&&(this.mix=e.mix),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.color){const t=(0,s.isArray)(this.color)?void 0:this.color;this.color=(0,s.executeOnSingleOrMultiple)(e.color,(e=>s.OptionsColor.create(t,e)))}void 0!==e.size&&(this.size=e.size)}}}class r extends b{constructor(){super(),this.selectors=[]}load(e){super.load(e),(0,s.isNull)(e)||void 0!==e.selectors&&(this.selectors=e.selectors)}}class a extends b{load(e){super.load(e),(0,s.isNull)(e)||(this.divs=(0,s.executeOnSingleOrMultiple)(e.divs,(e=>{const t=new r;return t.load(e),t})))}}function c(e,t,i,o){if(t>=i){const n=e+(t-i)*o;return(0,s.clamp)(n,e,t)}if(t<i){const n=e-(i-t)*o;return(0,s.clamp)(n,t,e)}}!function(e){e.color="color",e.opacity="opacity",e.size="size"}(l||(l={}));const u="bubble";class d extends s.ExternalInteractorBase{constructor(e,t){super(e),this._clickBubble=()=>{const e=this.container,t=e.actualOptions,i=e.interactivity.mouse.clickPosition,o=t.interactivity.modes.bubble;if(!o||!i)return;e.bubble||(e.bubble={});const n=e.retina.bubbleModeDistance;if(!n||n<0)return;const b=e.particles.quadTree.queryCircle(i,n,(e=>this.isEnabled(e))),{bubble:r}=e;for(const t of b){if(!r.clicking)continue;t.bubble.inRange=!r.durationEnd;const b=t.getPosition(),a=(0,s.getDistance)(b,i),c=((new Date).getTime()-(e.interactivity.mouse.clickTime??0))/s.millisecondsToSeconds;c>o.duration&&(r.durationEnd=!0),c>2*o.duration&&(r.clicking=!1,r.durationEnd=!1);const u={bubbleObj:{optValue:e.retina.bubbleModeSize,value:t.bubble.radius},particlesObj:{optValue:(0,s.getRangeMax)(t.options.size.value)*e.retina.pixelRatio,value:t.size.value},type:l.size};this._process(t,a,c,u);const d={bubbleObj:{optValue:o.opacity,value:t.bubble.opacity},particlesObj:{optValue:(0,s.getRangeMax)(t.options.opacity.value),value:t.opacity?.value??1},type:l.opacity};this._process(t,a,c,d),!r.durationEnd&&a<=n?this._hoverBubbleColor(t,a):delete t.bubble.color}},this._hoverBubble=()=>{const e=this.container,t=e.interactivity.mouse.position,i=e.retina.bubbleModeDistance;if(!i||i<0||!t)return;const o=e.particles.quadTree.queryCircle(t,i,(e=>this.isEnabled(e)));for(const n of o){n.bubble.inRange=!0;const o=n.getPosition(),l=(0,s.getDistance)(o,t),b=1-l/i;l<=i?b>=0&&e.interactivity.status===s.mouseMoveEvent&&(this._hoverBubbleSize(n,b),this._hoverBubbleOpacity(n,b),this._hoverBubbleColor(n,b)):this.reset(n),e.interactivity.status===s.mouseLeaveEvent&&this.reset(n)}},this._hoverBubbleColor=(e,t,i)=>{const o=this.container.actualOptions,n=i??o.interactivity.modes.bubble;if(n){if(!e.bubble.finalColor){const t=n.color;if(!t)return;const i=(0,s.itemFromSingleOrMultiple)(t);e.bubble.finalColor=(0,s.rangeColorToHsl)(this._engine,i)}if(e.bubble.finalColor)if(n.mix){e.bubble.color=void 0;const i=e.getFillColor();e.bubble.color=i?(0,s.rgbToHsl)((0,s.colorMix)(i,e.bubble.finalColor,1-t,t)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}},this._hoverBubbleOpacity=(e,t,i)=>{const o=this.container.actualOptions,n=i?.opacity??o.interactivity.modes.bubble?.opacity;if(!n)return;const l=e.options.opacity.value,b=c(e.opacity?.value??1,n,(0,s.getRangeMax)(l),t);void 0!==b&&(e.bubble.opacity=b)},this._hoverBubbleSize=(e,t,i)=>{const o=this.container,n=i?.size?i.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(void 0===n)return;const l=(0,s.getRangeMax)(e.options.size.value)*o.retina.pixelRatio,b=c(e.size.value,n,l,t);void 0!==b&&(e.bubble.radius=b)},this._process=(e,t,i,o)=>{const n=this.container,s=o.bubbleObj.optValue,b=n.actualOptions.interactivity.modes.bubble;if(!b||void 0===s)return;const r=b.duration,a=n.retina.bubbleModeDistance,c=o.particlesObj.optValue,u=o.bubbleObj.value,d=o.particlesObj.value??0,p=o.type;if(a&&!(a<0)&&s!==c)if(n.bubble||(n.bubble={}),n.bubble.durationEnd)u&&(p===l.size&&delete e.bubble.radius,p===l.opacity&&delete e.bubble.opacity);else if(t<=a){if((u??d)!==s){const t=d-i*(d-s)/r;p===l.size&&(e.bubble.radius=t),p===l.opacity&&(e.bubble.opacity=t)}}else p===l.size&&delete e.bubble.radius,p===l.opacity&&delete e.bubble.opacity},this._singleSelectorHover=(e,t,i)=>{const o=this.container,n=document.querySelectorAll(t),l=o.actualOptions.interactivity.modes.bubble;l&&n.length&&n.forEach((t=>{const n=t,b=o.retina.pixelRatio,r={x:(n.offsetLeft+.5*n.offsetWidth)*b,y:(n.offsetTop+.5*n.offsetHeight)*b},a=.5*n.offsetWidth*b,c=i.type===s.DivType.circle?new s.Circle(r.x,r.y,a):new s.Rectangle(n.offsetLeft*b,n.offsetTop*b,n.offsetWidth*b,n.offsetHeight*b),u=o.particles.quadTree.query(c,(e=>this.isEnabled(e)));for(const t of u){if(!c.contains(t.getPosition()))continue;t.bubble.inRange=!0;const i=l.divs,o=(0,s.divMode)(i,n);t.bubble.div&&t.bubble.div===n||(this.clear(t,e,!0),t.bubble.div=n),this._hoverBubbleSize(t,1,o),this._hoverBubbleOpacity(t,1,o),this._hoverBubbleColor(t,1,o)}}))},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=t=>{t===u&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,void 0!==t.size&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions.interactivity.events,i=t.onHover,o=t.onClick,n=i.enable,l=i.mode,b=o.enable,r=o.mode,a=t.onDiv;n&&(0,s.isInArray)(u,l)?this._hoverBubble():b&&(0,s.isInArray)(u,r)?this._clickBubble():(0,s.divModeExecute)(u,a,((t,i)=>this._singleSelectorHover(e,t,i)))}isEnabled(e){const t=this.container,i=t.actualOptions,o=t.interactivity.mouse,n=(e?.interactivity??i.interactivity).events,{onClick:l,onDiv:b,onHover:r}=n,a=(0,s.isDivModeEnabled)(u,b);return!!(a||r.enable&&o.position||l.enable&&o.clickPosition)&&((0,s.isInArray)(u,r.mode)||(0,s.isInArray)(u,l.mode)||a)}loadModeOptions(e,...t){e.bubble||(e.bubble=new a);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function p(e,t=!0){e.checkVersion("3.8.1"),await e.addInteractor("externalBubble",(t=>Promise.resolve(new d(t,e))),t)}return n})()));